input USSDClinicalRequest {
  patientID: String!
  msisdn: String!
  ussdSessionID: String!
}

type USSDClinicalResponse {
  shortLink: String!
  summary: String!
  text: String!
}

type USSDMedicalHistoryClinicalResponse {
  shortLink: String!
  summary: String!
  text: String!
  fullHistory: Map!
}

extend type Query {
  allergySummary(patientID: String!): [String!]!
  problemSummary(patientID: String!): [String!]!
  requestUSSDPatientProfile(input: USSDClinicalRequest!): USSDClinicalResponse!
  requestUSSDLastVisit(input: USSDClinicalRequest!): USSDClinicalResponse!
  requestUSSDFullHistory(
    input: USSDClinicalRequest!
  ): USSDMedicalHistoryClinicalResponse!
  patientTimeline(episodeID: String!): [Map!]!
  patientTimelineWithCount(episodeID: String!, count: Int!): [Map!]!
  visitSummary(encounterID: String!): Map!
}

extend type Mutation {
  startEncounter(episodeID: String!): String!
  endEncounter(encounterID: String!): Boolean!
  endEpisode(episodeID: String!): Boolean!
}
